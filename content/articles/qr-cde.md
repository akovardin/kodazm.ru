+++
date = "2020-05-17T11:00:00+03:00"
draft = true
title = "QR коды для чайников"
tags = ["ios", "android", "go"]
+++

QR расшифровывается как Quick Response. Это двумерный штрихкод, который распознается камерой.

Код придумали в Японии. До его изобретения, на заводе Denso использовали разные варианты штрих-кодов. Разные форматы, время сканирования и малое кол-во информации тормозило работу. Тогда в [Denso-Wave](https://www.qrcode.com/en/) немного подумали и в 1994 предложили использовать двумерные коды. В 2000х код стал использоваться по всему миру.

В QR коде можно зашифровать любую информацию. Они бывают разных размеров - от 21х21 до 177x177 пикселей. Есть четыре стандартизированных режима кодирования: 

- Числовой. Используется 10 битов на три цифры. Можно закодировать до 7089 цифр
- Буквенно-цифровой. Можно закодировать 10 цифр, буквы от A до Z и несколько спецсимволов. Используется 11 битов на два символа, до 4296 символов.
- Двоичный. Тут все просто - можно кодировать данные в любой подходящей кодировке.
- [Кандзи](https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BD%D0%B4%D0%B7%D0%B8). Это формат, где кодируются иероглифы. Используется 13 битов на иероглиф и кодируется до 1817 иероглифов.

Существует очень много дополнений и расширений форматов и способов кодирования больших сообщений в нескольких кодах. 

Пока я искал информацию по QR кодам, я натолкнулся на интересный формат - Micro QR. Он позволяет кодировать всего до 35 цифр, но для наших экспериментов этого более чем достаточно.

QR коы обрабатываются с использованием [кодов Рида — Соломона](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4_%D0%A0%D0%B8%D0%B4%D0%B0_%E2%80%94_%D0%A1%D0%BE%D0%BB%D0%BE%D0%BC%D0%BE%D0%BD%D0%B0) пока изображение не будет распознано. Данные извлекаются из шаблонов в горизонтальных и вертикальных частях изображения. Из моего опыта, если в алгоритме аж две фамилии - то этому алгоритму точно можно доверять. Я не буду обсуждать тут сам алгоритм, это тема для отдельной статьи. Сразу перейдем к практическому применению. 



https://ru.wikipedia.org/wiki/QR-%D0%BA%D0%BE%D0%B4#cite_note-newsone191128-5
https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4_%D0%A0%D0%B8%D0%B4%D0%B0_%E2%80%94_%D0%A1%D0%BE%D0%BB%D0%BE%D0%BC%D0%BE%D0%BD%D0%B0
https://github.com/skip2/go-qrcode
http://pyqrcode.sourceforge.net/
https://www.qrcode.com/en/codes/microqr.html
https://blog.beaconstac.com/2020/02/qr-code-faq/
https://en.wikipedia.org/wiki/Identicon
https://github.com/dgryski/go-identicon
https://www.devdungeon.com/content/working-images-go
https://gocv.io/writing-code/more-examples/
https://habr.com/ru/company/skillbox/blog/462159/